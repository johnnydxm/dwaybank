# Test Environment Configuration for DwayBank Backend
# Minimal configuration to enable test execution

# Database (use test database)
DATABASE_URL=postgresql://dwaybank:dwaybank@localhost:5432/dwaybank_test
DB_HOST=localhost
DB_PORT=5432
DB_NAME=dwaybank_test
DB_USER=dwaybank
DB_PASSWORD=dwaybank

# JWT Configuration
JWT_SECRET=test-secret-key-for-testing-purposes-only
JWT_REFRESH_SECRET=test-refresh-secret-key-for-testing
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS384

# Session Configuration
SESSION_SECRET=test-session-secret-key-for-testing-only
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=test-redis-password
REDIS_DB=0

# Email Service (required for environment validation)
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=test@dwaybank.com
EMAIL_PASS=test-password
EMAIL_FROM=noreply@dwaybank.com

# Security
BCRYPT_ROUNDS=10
MFA_ISSUER=DwayBank-Test
ENCRYPTION_KEY=1234567890123456789012345678901234567890123456789012345678901234

# Rate Limiting (relaxed for testing)
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=1000
LOGIN_RATE_LIMIT=100
REGISTRATION_RATE_LIMIT=50

# Application
NODE_ENV=test
PORT=3001
API_BASE_URL=http://localhost:3001
FRONTEND_URL=http://localhost:5173

# External Services (disabled/mocked in tests)
TWILIO_ACCOUNT_SID=test_sid
TWILIO_AUTH_TOKEN=test_token
TWILIO_PHONE_NUMBER=+1234567890

# Logging (minimal for tests)
LOG_LEVEL=error
LOG_FILE=false

# PCI Compliance (test mode)
PCI_COMPLIANCE_LEVEL=test
AUDIT_LOGGING=true

# Feature Flags (enable for testing)
ENABLE_MFA=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true